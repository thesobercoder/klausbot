---
phase: 07-resilience-tooling
plan: 04
type: execute
wave: 2
depends_on: ["07-01", "07-02", "07-03"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "All three features verified working in production"
    - "Timeout recovery tested with real timeout scenario"
    - "Skills CLI removed and external tools documented"
    - "Agent authoring works via natural language"
  artifacts: []
  key_links: []
---

<objective>
End-to-end verification of Phase 7 features with human testing.

Purpose: Validate timeout recovery, skills cleanup, and agent authoring work correctly in production environment.

Output: Human verification of all success criteria.
</objective>

<execution_context>
@/home/soham/.claude/get-shit-done/workflows/execute-plan.md
@/home/soham/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/07-resilience-tooling/07-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Build and verify compilation</name>
  <files></files>
  <action>
1. Run `npm run build` to ensure all changes compile
2. Check for any TypeScript errors
3. Verify dist/ directory has updated files
  </action>
  <verify>`npm run build` exits 0</verify>
  <done>Project compiles cleanly</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
Phase 7 complete implementation:
1. Timeout recovery - spawner attempts to recover response from ~/.claude/projects/ transcripts on timeout
2. Skills cleanup - `klausbot skills` removed, help points to npx openskills
3. Agent authoring - system prompt reminds Claude about ~/.claude/agents/ folder and format
  </what-built>
  <how-to-verify>
**1. Skills CLI Removal:**
```bash
# Should show external tool note, not skills command
klausbot help

# Should error "Unknown command"

klausbot skills

```

**2. Agent Authoring:**
- Start the bot: `klausbot daemon`
- Send via Telegram: "Create an agent called 'code-reviewer' that reviews code for best practices"
- Claude should create ~/.claude/agents/code-reviewer.md
- Verify file exists and has correct format (YAML frontmatter + body)

**3. Timeout Recovery (harder to test):**
- Option A: Artificially trigger by modifying timeout to 5 seconds
- Option B: Check code review - spawner.ts should call handleTimeout() on timeout
- Option C: Trust the implementation and verify via code inspection

**Verification checklist:**
- [ ] `klausbot help` shows "# Skills: Use npx openskills..." note
- [ ] `klausbot skills` returns "Unknown command" error
- [ ] Agent creation via natural language works
- [ ] Agent file created at ~/.claude/agents/
- [ ] Agent file has YAML frontmatter (name, description, tools, model)
- [ ] Timeout recovery code path exists in spawner.ts
  </how-to-verify>
  <resume-signal>Type "approved" when all checks pass, or describe issues found</resume-signal>
</task>

</tasks>

<verification>
- [ ] Build compiles without errors
- [ ] Human verified all three features
</verification>

<success_criteria>
All Phase 7 success criteria met:
1. Timeout recovery implemented (code path exists)
2. Transcript path construction works
3. Skills CLI removed
4. Documentation points to external tools
5. Agent authoring via natural language works
6. System prompt includes agents folder reminder
</success_criteria>

<output>
After completion, create `.planning/phases/07-resilience-tooling/07-04-SUMMARY.md`
</output>
```
